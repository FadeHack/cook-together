// src/config/firebase.js
const admin = require("firebase-admin");

const base64ServiceAccount = `ewogICJ0eXBlIjogInNlcnZpY2VfYWNjb3VudCIsCiAgInByb2plY3RfaWQiOiAiY29va2Jvb2stcCIsCiAgInByaXZhdGVfa2V5X2lkIjogIjNhZjI1OGFlMzAyN2NiOWM5NzI1MjVlNzFjOWRmZTdjZTYzODI3ODEiLAogICJwcml2YXRlX2tleSI6ICItLS0tLUJFR0lOIFBSSVZBVEUgS0VZLS0tLS1cbk1JSUV2UUlCQURBTkJna3Foa2lHOXcwQkFRRUZBQVNDQktjd2dnU2pBZ0VBQW9JQkFRRG44RkYxT1lYV2ZBQkpcbkhLdlUvaGNEVmFVOFRpaWpsdFFYQWxtTXg0VHU1aHJURWNIVldENHRmaDl5ZXVaK2V2bGpQanJVTkRLMnJ0U2hcbnBDSm9vaWIrNjFJVTROeWtYaDBaVktzOFpaL3NCV0NXQTZEOEpMa1hoNVRSMllsRVZTQkNDWHBuYlNHWU04am9cblYyOVVqY1hKRDN2bDJoRW81VDhJWXEzNmdaaERvYXduR0lIQ1pIdHQ2OGFoVjdROHNLTkxEeDB2NUJPQlliVmtcbmdzV1J1YmNmM0U3a0RWQTMvSFhmbFN2bGxTNlZEeGhJNUlaalJtNHdUZmFKcUVhTTU4YTRoUnRSM1ZzL3dWTlhcbnZCazROVUdVWmFURjExTHRrSjV4Vzlid25hSGhpSWJIZ3lLYzdZbXR1WmRpTTBoUk5LSi9HVTdyLzBXeEJHa1NcbnR3L09uN0JCQWdNQkFBRUNnZ0VBTmlZMGxsWW1LWU9NdTRUK2x2ejFXWGx5Mk1mMGsvREFObGo5bUREeWw2WFFcbktHdnlZWUUzRHY3dGo1Z2kzTytQN3J3V0Z2blN4elM4L3JubnNKNysxTEFTMnozK05UK2xzb2JDYlpqYVE4dWpcbmw1SmtVTW13RHM3QUQxZ214SFhOVUsyT3pydTdScUg4YTBZU2YxNlVDUk5jM1RaU29FWVpON2QySDlDR3dHNzZcbkJCNTF4WUVlMVFFRkFoRTA4OUVodnQ4OSt2R21tOXp0d3N5ZVpnV1d1K2VsM2R1aDh4L29MYkRxbXNraTZJcElcbnN5bU1oTEs5T2REN0JWejRNWHZ2ZTByZTdJeXRUVzlEcW9wV3UzbG9vSE03eGFBaG9xckNZc085dUhXWjgxVy9cblhLLzRPbHN6ZGNtd01oeXRVcXZURldtN1R4ZlFmMC9PNVlhTytZVUtPd0tCZ1FENmY2Z2M3a2dWajNHQjN0YitcbmdJTG1HNWNkTllFYzVQMmxCK0x2Y2h2dlU1dkVPY3c5eE1Pcy85Ly9QYTlYRkp3eW1wZ1NxNFdnQlBVZWk4K0pcbjZDQlRMQTF4MnY5VExqUnAyU09UamhoL1h5UndBM2I1Z3dqdTROZDEzN0dzcDFsKytldkorM3lxVXpCT080Y1pcbnIzTndkRm8vRVFJNFdqT2NCcUNZK015bWl3S0JnUUR0Q0ZDUVpkNTRGbW5XakU1UWVjdU1uU2IwZ1dweEFGNkRcbjdrSFY3Y0c1U0kxZ1hpYXNTcThRRXJIL3RqTCs2d3piTXhFdnBFRzB1RVhaREZ5Qk5MTjl4SS9yUXgrZkU1L0FcbkF4ZWdhYlBBQ3kxb3RuK21Sb3JZMzhmR0dJVlI5bXI4QkZCMjk3d1ZZMTQxK01XYlVuUVBJTFdoU2RMNGpuZkFcbnB1ZW1ScXRwNHdLQmdEempicitwZzhnSjEvTlRjVHJuamVuVTV3Um9qdnV4Qlo1cHJsVzVqT1M5ayswOGgxSzBcblUwUG41bENxYzhaYzhpS3l4U2cwblFScWNCSit0WEcyQkxWeXpjblJDNkx5WmpjY1dyTnhKSzlCTnlBckYyNUtcbjFZOExCQlJZelYxRVNGSysrUHRkcjgzTzdyejFaejl0RUVoVFgrUlloQXVpa1V6cHAzdkhiaWRGQW9HQkFPZ1JcbkQrK1FEUE85M2ZsMGZPaEZsb2doQkphMmJpUWNuR3pHeENaVEZTdjJZSlJOR2NmdGh1QlJyWHdTUW5OYVpjZm1cbmc1a0ZWRjgvV3dOYUd1ZFZWYlo0ei84aVJMOVdVejJHeVljQWRrQTdzVVdvQitvZmZxayt6elNmcFVmTjNvakhcbklKQ1prOGZNOWR3WnFENmR4NHRZRnZ2R2I0dHkwTVFKcFJzaWJZakpBb0dBVW1uTTdRN2dtOVJjSUdIWWMvMENcbkQ1MW1BazRrRS9BZVFIWXI3cjU2ck82dzVPOEhmcnBpUGVaQU9WdUk3Y2FoT0NHQkxVRUpBUExBUHV5SEQrWFhcbllkSGVGNEdLV2E3VXQyVTJYR3JpeGZsZG1EQXUrZXR2VUgzYXpxSS9DRDR3c3RXQkZ2Z3lzdWhuYk5EcU1HRFVcbllKa21ZcmtkQWxJN2pqVEt2cEVBdlQ0PVxuLS0tLS1FTkQgUFJJVkFURSBLRVktLS0tLVxuIiwKICAiY2xpZW50X2VtYWlsIjogImZpcmViYXNlLWFkbWluc2RrLWZic3ZjQGNvb2tib29rLXAuaWFtLmdzZXJ2aWNlYWNjb3VudC5jb20iLAogICJjbGllbnRfaWQiOiAiMTAyOTYyNDQ4MDg0NjU2ODkyMTYyIiwKICAiYXV0aF91cmkiOiAiaHR0cHM6Ly9hY2NvdW50cy5nb29nbGUuY29tL28vb2F1dGgyL2F1dGgiLAogICJ0b2tlbl91cmkiOiAiaHR0cHM6Ly9vYXV0aDIuZ29vZ2xlYXBpcy5jb20vdG9rZW4iLAogICJhdXRoX3Byb3ZpZGVyX3g1MDlfY2VydF91cmwiOiAiaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vb2F1dGgyL3YxL2NlcnRzIiwKICAiY2xpZW50X3g1MDlfY2VydF91cmwiOiAiaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vcm9ib3QvdjEvbWV0YWRhdGEveDUwOS9maXJlYmFzZS1hZG1pbnNkay1mYnN2YyU0MGNvb2tib29rLXAuaWFtLmdzZXJ2aWNlYWNjb3VudC5jb20iLAogICJ1bml2ZXJzZV9kb21haW4iOiAiZ29vZ2xlYXBpcy5jb20iCn0K`;

const serviceAccount = JSON.parse(
  Buffer.from(base64ServiceAccount, "base64").toString("utf-8")
);

admin.initializeApp({
  credential: admin.credential.cert(serviceAccount),
});

module.exports = admin;
